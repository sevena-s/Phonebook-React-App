(this["webpackJsonpphonebook-frontend"]=this["webpackJsonpphonebook-frontend"]||[]).push([[0],{20:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n),n.default=t.p+"static/media/contacts.cd5dee10.png"},42:function(e,n,t){"use strict";t.r(n),n.default=t.p+"static/media/search-icon.08ed5917.png"},43:function(e,n,t){"use strict";t.r(n);var c=t(2),s=t(15),o=t.n(s),a=(t(20),t(3)),i=t(4),r=t.n(i),l="/api/persons",u=function(){return r.a.get(l)},d=function(e){return r.a.post(l,e)},b=function(e,n){return r.a.put("".concat(l,"/").concat(e),n)},j=function(e){return r.a.delete("".concat(l,"/").concat(e))},f=t(0),m=function(e){var n=e.message,t=e.color;return null===n?null:Object(f.jsx)("div",{className:t,children:n})},h=function(e){var n=e.number,t=e.id,c=e.person,s=n.name.charAt(0);return Object(f.jsxs)("div",{class:"item",children:[Object(f.jsx)("div",{style:{backgroundColor:n.color},class:"profile-icon",children:s}),Object(f.jsx)("p",{children:n.name}),Object(f.jsx)("p",{class:"number",children:n.number}),Object(f.jsx)("div",{class:"delete-container",children:Object(f.jsx)("button",{class:"delete-button",onClick:function(){return window.confirm("Are you Sure you want to delete ".concat(c,"?"))?j(t).then(window.location.reload()):null},children:"Delete"})})]})},O=function(){var e=Object(c.useState)([]),n=Object(a.a)(e,2),s=n[0],o=n[1],i=Object(c.useState)(""),r=Object(a.a)(i,2),l=r[0],j=r[1],O=Object(c.useState)(""),p=Object(a.a)(O,2),x=p[0],v=p[1],g=Object(c.useState)(""),w=Object(a.a)(g,2),k=w[0],S=w[1],C=Object(c.useState)(!1),F=Object(a.a)(C,2),y=F[0],A=F[1],N=Object(c.useState)(null),D=Object(a.a)(N,2),T=D[0],E=D[1],J=Object(c.useState)("added"),P=Object(a.a)(J,2),B=P[0],I=P[1],V=Object(c.useState)("#2493FF"),W=Object(a.a)(V,2),q=W[0],z=W[1];Object(c.useEffect)((function(){console.log("effect"),u().then((function(e){console.log("promise fulfilled"),o(e.data)}))}),[]);var G=function(e){z(e.target.id)};return Object(f.jsxs)("div",{class:"container",children:[Object(f.jsxs)("div",{class:"heading",children:[Object(f.jsx)("img",{class:"contacts-icon",src:t(41).default}),Object(f.jsx)("h2",{class:"title",children:"Phonebook"})]}),Object(f.jsx)(m,{message:T,color:B}),Object(f.jsxs)("div",{class:"content",children:[Object(f.jsxs)("div",{class:"contacts",children:[Object(f.jsx)("div",{class:"form",children:Object(f.jsx)("form",{onSubmit:function(e){e.preventDefault();var n=s.map((function(e){return e.name}));A(n.some((function(e){return e.includes(k)}))),console.log(y),console.log(k),S("")},children:Object(f.jsxs)("div",{class:"search-container",children:[Object(f.jsx)("img",{class:"search-icon",src:t(42).default})," ",Object(f.jsx)("input",{class:"search-input",value:k,onChange:function(e){S(e.target.value)},placeholder:"Search"})]})})}),Object(f.jsxs)("div",{class:"numbers",children:[console.log(k),y?s.filter((function(e){return e.name.includes(k)})).map((function(e){return Object(f.jsx)(h,{number:e,id:e.id,person:e.name},e.name)})):s.map((function(e){return Object(f.jsx)(h,{number:e,id:e.id,person:e.name},e.name)}))]})]}),Object(f.jsxs)("div",{class:"add-num",children:[Object(f.jsx)("h2",{class:"new-title",children:"Add New Number"}),Object(f.jsxs)("div",{class:"add-form",children:[Object(f.jsxs)("form",{class:"add-container",onSubmit:function(e){e.preventDefault();var n={name:l,number:x,color:q};s.map((function(e){return e.name})).includes(l)||d(n).then((function(e){o(s.concat(n)),E("".concat(l," has been added")),I("added"),setTimeout((function(){E(null)}),5e3),j(""),v("")})).catch((function(e){E("Person Validation Failed: ".concat(l," must be minimum length(3) & ").concat(x," must be minimum length(8)")),I("error"),setTimeout((function(){E(null)}),5e3)}))},children:[Object(f.jsxs)("div",{class:"input-fields",children:[Object(f.jsx)("div",{class:"add-info",children:Object(f.jsx)("input",{class:"add-input",value:l,onChange:function(e){j(e.target.value)},placeholder:"Name"})}),Object(f.jsx)("div",{class:"add-info",children:Object(f.jsx)("input",{class:"add-input",value:x,onChange:function(e){v(e.target.value)},placeholder:"Number"})})]}),Object(f.jsx)("div",{class:"button-container",children:Object(f.jsx)("button",{class:"add-button",type:"submit",onClick:function(e){var n={name:l,number:x,color:q};if(s.map((function(e){return e.name})).includes(l)){var t=s.map((function(e){return e.number})),c=s.map((function(e){return e.name})).indexOf(l);console.log(c),console.log(s[c].id);t[c]!==x?window.confirm("Would you like change ".concat(l,"'s number?"))&&b(s[c].id,n).then((function(e){E("".concat(l," has been added")),setTimeout((function(){E(null)}),5e3),window.location.reload()})).catch((function(e){E("".concat(l," has already been removed from the server")),I("error"),setTimeout((function(){E(null)}),5e3)})):window.alert(l+" is already added")}else o(s);console.log(x)},children:"Add"})})]}),Object(f.jsxs)("div",{class:"color-buttons",children:[Object(f.jsx)("button",{class:"but1 prof-buttons",id:"#2493FF",onClick:G}),Object(f.jsx)("button",{class:"but2 prof-buttons",id:"#FFC224",onClick:G}),Object(f.jsx)("button",{class:"but3 prof-buttons",id:"#A4D05F",onClick:G}),Object(f.jsx)("button",{class:"but4 prof-buttons",id:"#FF6624",onClick:G})]})]})]})]})]})};o.a.render(Object(f.jsx)(O,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.3b5b6951.chunk.js.map